<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #wrapper{
            width: 600px;
            height: 600px;
            margin: auto;
            background-color:darkgreen;
            position: relative;
            overflow: hidden;
        }
    </style>
    <script src="./js/Ball.js"></script>
    <script src="../lib/common.js"></script>
    <script>
        let ballArray=[];   //다량의 공을 담게 될 배열
        let ballColor=["red", "orange", "yellow", "green", "bule", "navy", "purple", "white", "black"];

        function gameLoop(){
            //배열에 들어있는 모든 공을 대상으로 move 메서드 호출        
            for(let i=0; i<ballArray.length; i++){
                let ball = ballArray[i];
                ball.move();
            }    
        }

        //BALL 클래스로부터 객체(인스턴스)를 생성
        function fire(){
            //인스턴스 생성
            let ball = new Ball(document.getElementById("wrapper"), getRandom(600), getRandom(600), 40, 40, getRandom(15), getRandom(15), ballColor[getRandom(ballColor.length-1)]);
            //배열에 추가
            ballArray.push(ball);
        }

        //로드될 때 호출
        addEventListener("load", function(){
            //키보드 이벤트 구현
            window.addEventListener("keydown", function(e){
                if(e.keyCode == 32){
                    // console.log("스페이스 눌렸음!");
                    fire();
                }
            });
            setInterval(gameLoop, 10);
        });
    </script>
</head>
<body>
    <div id="wrapper"></div>
</body>
</html>